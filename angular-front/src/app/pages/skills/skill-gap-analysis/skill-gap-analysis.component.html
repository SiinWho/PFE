<app-page-breadcrumb pageTitle="Skill Gap Analysis" />

<div class="space-y-6">
  <div *ngFor="let analysis of skillGaps" class="grid grid-cols-1">
    <app-component-card [title]="analysis.position + ' - ' + analysis.employee">
      <div class="mb-4">
        <h5 class="text-xs font-semibold uppercase text-gray-500 mb-2">Required Skills:</h5>
        <div class="flex flex-wrap gap-2">
          <span *ngFor="let skill of analysis.requiredSkills" class="px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-xs text-gray-600 dark:text-gray-400">
            {{ skill }}
          </span>
        </div>
      </div>

      <div class="overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]">
        <table class="min-w-full divide-y divide-gray-100 dark:divide-white/[0.05]">
          <thead class="bg-gray-50 dark:bg-white/[0.02]">
            <tr>
              <th class="px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase">Missing/Low Skill</th>
              <th class="px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase">Current</th>
              <th class="px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase">Required</th>
              <th class="px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase">Criticality</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100 dark:divide-white/[0.05]">
            <tr *ngFor="let gap of analysis.gaps">
              <td class="px-5 py-3 text-sm font-medium text-gray-800 dark:text-white/90">{{ gap.skill }}</td>
              <td class="px-5 py-3 text-sm text-gray-500">{{ gap.currentLevel || 'None' }}</td>
              <td class="px-5 py-3 text-sm font-semibold text-primary-500">{{ gap.requiredLevel }}</td>
              <td class="px-5 py-3">
                <app-badge [color]="getCriticalityColor(gap.criticality)">{{ gap.criticality }} Priority</app-badge>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-component-card>
  </div>
</div>
